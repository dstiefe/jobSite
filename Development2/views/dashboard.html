
    <div id="header" ng-include="'views/head.html'"></div>
<div ng-controller="dashboardController">
    <div class="progress" ng-show="isLoading" style="position: absolute; top: 80px; left:45%; width: 200px; height: 10px; z-index: 9999999999;">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only"></span>
        </div>
    </div>

        <div class="row">
            <div class="col-lg-12">

                <h3 class="headertable" style="margin: 0;padding: 0.7em 1em 1em 0.8em;">
                    {{headingmessage}}
                </h3>
            </div>
        </div>
        <!-- Right sidebar -->
        <div class="row">
            <div ng-show="!list.length && !isLoading" class="col-lg-12" style="">
                <h1>{{jobsNotFoundMessage}}</h1>
            </div>
        </div>
        <div class="row">
                <br />
            <div class="col-lg-6" ng-repeat="data in list | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit | orderBy:'-publishedDate'">
                <div class="panel panel-default" ng-if="!data.recepients">
                    <div class="panel-heading">

                        <div class="pull-left">
                            <h3 class="panel-title">{{data.title}}({{data.location}})</h3>
                            <span class="dateHeader">
                                <span ng-show="role == 'Admin'">Date Created: </span><span ng-show="role == 'User'">Date Applied: </span>{{data.publishedDate*1000 | date : "M/d/yyyy"}}
                            </span>
                        </div>

                        &nbsp;<a ng-click="deleterecords(data.id)" ng-show="role == 'Admin'" title="delete" style="margin:0 5px;" class="btn btn-info btn-danger pull-right"><span class="glyphicon glyphicon-remove"></span></a> &nbsp;
                        <a class="btn btn-primary pull-right" ui-sref="applicants({id:data.id})" ng-show="role == 'Admin'">
                            {{viewtext}}
                            <span class="badge badge-success" ng-show="!isUndefinedOrNull(data.applicantsIds) && data.applicantsIds.length > 0">{{data.applicantsIds.length}}</span>
                        </a>

                        <a class="btn btn-primary pull-right" href="#viewjobdetails?id={{data.id}}" ng-hide="role == 'Admin'">
                            {{viewtext}}
                        </a>

                        <span class="label label-success pull-right" ng-show="role == 'Admin' && (data.referralFeePercent >0 || data.data.referralFeeAmount > 0)" style="background-color: #5cb85c; font-size: 14px; padding: 10px;margin:0 10px;">
                            $$ Referral
                        </span>

                        <div class="clearfix"></div>

                    </div>
                    <div class="panel-body crop" ng-bind-html="data.description"></div>



                    <div class="panel-footer" style="height: 50px;">



                        <span class="label label-info label-footer" ng-repeat="screening in data.screenings" ng-show="role == 'Admin'">
                            {{screening.name}}
                            <span class="badge badge-success" ng-show="screening.applicantsCount > 0">{{screening.applicantsCount}}</span>
                        </span>

                        <a class="btn btn-info btn-footer" ng-repeat="screening in data.screenings | filter:{ isNew: true }" ui-sref="starttestscreening({id:data.resumeId, screeningId: screening.id})" ng-show="role == 'User'">
                            {{screening.name}}
                            <img src="images/new_little.png"  ng-show="screening.isNew" style="max-width:20px; position: relative; top: -8px; right:-13px;" />
                        </a>

                        <span class="label label-info label-footer" ng-repeat="screening in data.screenings | filter:{ isNew: false }" ng-show="role == 'User'">
                            {{screening.name}}
                            <span class="badge badge-success"><i class="fa fa-check"></i></span>
                        </span>


                         <span class="label label-success label-footer" ng-repeat="reference in data.references" ng-show="role == 'Admin'">
                            {{reference.name}}
                        </span>

                        <a href="" class="btn btn-success btn-footer" ng-repeat="reference in data.references" ng-click="sendReferenceToFriends(data, reference.id)" ng-show="role == 'User'" title="The client is very interested – do you have any references that will validate some of your skills sets that are required for this opportunity – if so please click">
                            {{reference.name}}
                            <img src="images/new_little.png"  ng-show="reference.isNew" style="max-width:20px; position: relative; top: -8px; right:-13px;" />
                        </a>


                        <!--<div class="pull-right">-->
                            <!--<i class="fa fa-question-circle fa-lg" title="Help text" style="color: #e6a300;" ng-show="(data.screenings | filter:{ isNew: true }).length>0 || data.applicantsIds.length > 0"></i>-->
                        <!--</div>-->
                        <!--<a class="btn btn-danger" ui-sref="starttestscreening({id:data.resumeId})" ng-show = "role == 'User' && data.screeningStage =='Screening'">-->
                        <!--{{data.screeningStage}}-->
                        <!--</a>-->
                        <!--<a class="btn btn-warning" href="" ng-show = "role == 'User' && data.screeningStage =='InReview'">-->
                        <!--{{data.screeningStage}}-->
                        <!--</a>-->
                        <!--<a class="btn btn-success" href="" ng-show = "role == 'User' && data.screeningStage =='Reviewed'">-->
                        <!--{{data.screeningStage}}-->
                        <!--</a>-->
                        <!--<span class="label label-default"  ng-show = "role == 'User' && data.screeningStage =='None'">-->
                        <!--No screenings-->
                        <!--</span>-->

                    </div>
                </div>
                <div class="panel panel-info" ng-if="data.recepients">
                    <div class="panel-heading">
                        <div class="pull-left">
                            <h3 class="panel-title">{{data.jobName}}({{data.location}})</h3>
                            <span class="dateHeader">
                                <span>Date Created: </span>{{data.modifyDate*1000 | date : "M/d/yyyy"}}
                            </span>
                        </div>

                        <span class="label label-primary pull-right" ng-show="data.status =='GotJobMyNetwork'" style="font-size: 14px; padding: 10px;">
                            Reffered
                        </span>

                        <!--<span class="label label-danger pull-right" ng-show = "data.status =='GotJob'" style="font-size: 14px; padding: 10px;margin:0 10px;">-->
                        <!--Reffered-->
                        <!--</span>-->
                        <!--<span class="label label-warning pull-right" ng-show =  "data.status =='Open'" style="font-size: 14px; padding: 10px;margin:0 10px;">-->
                        <!--Reffered-->
                        <!--</span>-->
                        <!--<span class="label label-success pull-right" ng-show =  "data.status =='GotJobMyNetwork'" style="font-size: 14px; padding: 10px;">-->
                        <!--Reffered-->
                        <!--</span>-->

                        <div class="clearfix"></div>
                    </div>
                    <div class="panel-body crop">
                        <span ng-repeat="recepient in data.recepients">{{recepient.firstName}} {{recepient.lastName}}, </span>
                    </div>
                    <div class="panel-footer panel-info" style="height: 50px;">

                    </div>
                </div>
                <div class="panel panel-success" ng-if="data.referenceId">
                    <div class="panel-heading">

                        <a class="btn btn-info pull-right" href="#viewjobdetails?id={{data.jobId}}">
                           View Job
                        </a>

                        <div class="clearfix"></div>
                    </div>
                    <div class="panel-body crop">
                        {{data.userName}} wants would like you to provide a reference for the following job
                    </div>
                    <div class="panel-footer panel-success" style="height: 50px;">
                        <a title="To Provide a reference please press 'start reference'" class="btn btn-info btn-footer pull-right" ui-sref="starttestjobreferral({jobId:data.jobId, resumeId: data.resumeId, jobReferralId: data.referenceIdc, userName:data.userName})" >
                            Start Reference
                        </a>
                    </div>
                </div>
            </div>
            </div>

        <div class="row"   ng-show="list.length > 0">

        <div class="col-md-9 col-lg-offset-1" ng-show="list.length > 0">
            <div pagination="" ng-model="currentPage" ng-change="changed()" boundary-links="true" total-items="filteredItems" items-per-page="entryLimit" class="pagination-small" previous-text="&laquo;" next-text="&raquo;"></div>
        </div>
        <div class="col-md-1">
            PageSize: <select ng-model="entryLimit" class="form-control" ng-options="c for c in entryLimits">
            </select>
        </div>
        <div class="col-md-1"> </div>
    </div>
</div>

